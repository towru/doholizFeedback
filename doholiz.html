<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Doholiz Guestbook – Your Experience Matters</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5.3 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    body {
      font-family: "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(to bottom right, #f3f7fa, #e9f3ff);
      padding-top: 30px;
    }
    .card {
      border: none;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    .btn-primary {
      background-color: #0b74de;
      border: none;
      font-weight: 600;
      transition: 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #095bb0;
    }
    footer {
      background: #f8f9fa;
      padding: 30px 15px;
      border-top: 1px solid #e0e0e0;
      margin-top: 60px;
    }
    footer a {
      color: #e65a0a;
      font-weight: 600;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="card p-4 p-md-5 mx-auto" style="max-width: 700px;">
      <div class="text-center mb-4">
        <img src="https://doholiz.com/wp-content/uploads/2025/05/Intl-Full.png" alt="Doholiz Logo" width="180" class="mb-3">
        <h3 class="fw-bold text-primary">Doholiz Guestbook</h3>
        <p class="text-muted">Your Experience Matters</p>
      </div>

      <form id="feedbackForm" class="needs-validation" novalidate>
        <div class="mb-3">
          <label class="form-label fw-semibold">Name *</label>
          <input name="name" class="form-control" required>
          <div class="invalid-feedback">Please enter your name.</div>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Email (optional)</label>
          <input name="email" type="email" class="form-control">
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Room *</label>
          <select name="room" class="form-select" required>
            <option value="">– select –</option>
            <option value="Pool Villa (Harmony Hills)">Pool Villa (Harmony Hills)</option>
            <option value="Pool Villa (The Tranquil Tulip)">Pool Villa (The Tranquil Tulip)</option>
            <option value="Pool Villa (The Artisan's Nest)">Pool Villa (The Artisan's Nest)</option>
            <option value="Pool Villa (Nature's Escape)">Pool Villa (Nature's Escape)</option>
            <option value="Couple Room Garden View">Couple Room Garden View</option>
            <option value="Couple Room with Balcony">Couple Room with Balcony</option>
            <option value="Double Bed Room (Sajh bati)">Double Bed Room (Sajh bati)</option>
            <option value="Double Bed Room (Poush Shonkranti)">Double Bed Room (Poush Shonkranti)</option>
            <option value="Double Bed Room (Hoimonti)">Double Bed Room (Hoimonti)</option>
          </select>
          <div class="invalid-feedback">Please select your room.</div>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Type of Review *</label>
          <select name="type" class="form-select" required>
            <option value="">– select –</option>
            <option value="Room & Accommodation">Room & Accommodation</option>
            <option value="Food & Restaurant Service">Food & Restaurant Service</option>
            <option value="Environment">Environment</option>
            <option value="Staff Behavior & Hospitality">Staff Behavior & Hospitality</option>
            <option value="Cleanliness & Maintenance">Cleanliness & Maintenance</option>
            <option value="Pricing & Value">Pricing & Value</option>
            <option value="Booking & Check-in Experience">Booking & Check-in Experience</option>
            <option value="Digital & Communication">Digital & Communication</option>
            <option value="Complaint / Issue">Complaint / Issue</option>
            <option value="Suggestion for Improvement">Suggestion for Improvement</option>
          </select>
          <div class="invalid-feedback">Please select review type.</div>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Overall Rating *</label>
          <select name="rating" class="form-select" required>
            <option value="">– select –</option>
            <option value="1 - Very Dissatisfied">1 - Very Dissatisfied</option>
            <option value="2 - Dissatisfied">2 - Dissatisfied</option>
            <option value="3 - Neutral">3 - Neutral</option>
            <option value="4 - Satisfied">4 - Satisfied</option>
            <option value="5 - Very Satisfied">5 - Very Satisfied</option>
          </select>
          <div class="invalid-feedback">Please select your rating.</div>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Visit Date</label>
          <input name="visitDate" type="date" class="form-control">
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Message *</label>
          <textarea name="message" class="form-control" rows="4" required></textarea>
          <div class="invalid-feedback">Please write your message.</div>
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-primary btn-lg">Submit Feedback</button>
        </div>
      </form>

      <div id="msg" class="text-center mt-3 fw-semibold"></div>
    </div>
  </div>

  <footer class="text-center">
    <p class="mx-auto mb-3" style="max-width:700px; font-size:17px; color:#555;">
      At <strong>Doholiz Resort</strong>, we’re constantly striving to enhance your experience.  
      Your feedback helps us understand what we’re doing well and where we can improve.  
      Every review contributes to creating a more enjoyable and welcoming environment.
    </p>
    <p style="font-size:16px;">
      Visit our official website:
      <a href="https://doholiz.com/" target="_blank">www.doholiz.com</a>
    </p>
    <p class="text-muted small mb-0">© 2025 Doholiz Resort. All rights reserved.</p>
  </footer>

  <script>
  const form = document.getElementById('feedbackForm');
  const msg = document.getElementById('msg');

  // Bootstrap form validation
  (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(f => {
      f.addEventListener('submit', event => {
        if (!f.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        f.classList.add('was-validated');
      }, false);
    });
  })();

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    if (!form.checkValidity()) return;

    msg.innerHTML = '<div class="text-info">Submitting...</div>';
    const data = Object.fromEntries(new FormData(form).entries());

    try {
      const res = await fetch('https://script.google.com/macros/s/AKfycbxAxOcxYUoP0o-V-Fmi7165T71aQxd8ARR_18gB5pvDtSy6C-zES9QsHeZVZ8JAfgZd/exec', {
        method: 'POST',
        body: JSON.stringify(data)
      });

      if (res.ok) {
        msg.innerHTML = '<div class="text-success">✅ Thank you! Your feedback has been saved.</div>';
        form.reset();
        form.classList.remove('was-validated');
      } else {
        msg.innerHTML = '<div class="text-danger">❌ Error saving data. Please try again.</div>';
      }
    } catch(err) {
      msg.innerHTML = '<div class="text-warning">⚠️ Network Error: ' + err.message + '</div>';
    }
  });
  </script>
</body>
</html>
